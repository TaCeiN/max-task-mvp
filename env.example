# =============================================================================
# ФАЙЛ ПРИМЕРА НАСТРОЕК ДЛЯ DOCKER ДЕПЛОЯ
# =============================================================================
# Скопируйте этот файл в .env и заполните реальными значениями
#
# Windows: copy env.example .env
# Linux/Mac: cp env.example .env
# =============================================================================

# =============================================================================
# ОБЯЗАТЕЛЬНЫЕ НАСТРОЙКИ (для обоих вариантов деплоя)
# =============================================================================

# Токен бота Max Bot (обязательно)
MAX_BOT_TOKEN=your_bot_token_here

# Время в секундах до удаления уведомления после прочтения (ОБЯЗАТЕЛЬНО для прода)
# В продакшене значение ВСЕГДА берется из .env, без захардкоженного дефолта
# Рекомендуемое значение для прода: 43200 (12 часов)
# Для теста можно использовать: 60 (1 минута)
NOTIFICATION_DELETE_AFTER_READ_SECONDS=60

# URL изображения для прикрепления к уведомлениям о дедлайнах (опционально)
NOTIFICATION_IMAGE_URL=https://example.com/image.png

# =============================================================================
# ВАЖНО: Разница между DOMAIN и URL
# =============================================================================
# 
# DOMAIN переменные (BACKEND_DOMAIN, WEBHOOK_DOMAIN):
#   - Используются nginx-proxy для автоматической настройки reverse proxy
#   - Используются Let's Encrypt для получения SSL сертификатов
#   - Должны содержать ТОЛЬКО доменное имя (без протокола и пути)
#   - Пример: backend.example.com
#
# URL переменные (BACKEND_URL, WEBHOOK_URL):
#   - Используются в коде приложения для подключения к API
#   - Используются при сборке фронтенда
#   - Должны содержать ПОЛНЫЙ URL с протоколом (https://)
#   - Пример: https://backend.example.com
#
# ОБА набора переменных ОБЯЗАТЕЛЬНЫ и должны соответствовать друг другу!
# =============================================================================

# Домены для backend и webhook (ОБЯЗАТЕЛЬНО)
# Используются nginx-proxy и Let's Encrypt для автоматической настройки
# Убедитесь, что DNS записи указывают на IP вашего VPS
# Формат: только доменное имя, без протокола (https://) и пути
BACKEND_DOMAIN=backend.devore.com.ru
WEBHOOK_DOMAIN=webhook.devore.com.ru

# Полные URL для backend API и webhook сервера (ОБЯЗАТЕЛЬНО)
# Используются в коде приложения и при сборке фронтенда
# Должны начинаться с https:// и соответствовать доменам выше
# Измените только если используете нестандартные порты или протоколы
BACKEND_URL=https://backend.devore.com.ru
WEBHOOK_URL=https://webhook.devore.com.ru

# Секретный ключ для JWT (обязательно)
# Сгенерируйте безопасный ключ (минимум 32 символа)
# См. инструкции по генерации ниже
SECRET_KEY=your_secret_key_here_min_32_chars

# =============================================================================
# НАСТРОЙКИ БАЗЫ ДАННЫХ
# =============================================================================

# URL базы данных (по умолчанию: SQLite)
# В Docker контейнерах используется путь: sqlite:///./data/data.sqlite3
DATABASE_URL=sqlite:///./data/data.sqlite3

# =============================================================================
# НАСТРОЙКИ БЭКЕНДА
# =============================================================================

# Порт для backend (по умолчанию: 8000)
BACKEND_PORT=8000

# Срок действия JWT токена в минутах (по умолчанию: 180)
ACCESS_TOKEN_EXPIRE_MINUTES=180

# =============================================================================
# НАСТРОЙКИ WEBHOOK СЕРВЕРА
# =============================================================================

# Порт для webhook сервера (по умолчанию: 8080)
# доступ через nginx-proxy на портах 80/443
WEBHOOK_PORT=8080

# =============================================================================
# НАСТРОЙКИ SSL (автоматическая настройка через Let's Encrypt)
# =============================================================================

# Email для Let's Encrypt (ОБЯЗАТЕЛЬНО для автоматического получения SSL сертификатов)
# Используется для уведомлений об истечении сертификатов
# Должен быть валидным email адресом
LETSENCRYPT_EMAIL=your-email@example.com

# =============================================================================
# ВАЖНО: Работа с SSL сертификатами Let's Encrypt
# =============================================================================
#
# Сертификаты автоматически получаются и обновляются через acme-companion.
# При деплое скрипты проверяют валидность сертификатов для доменов из .env.
#
# Сертификаты ищутся в двух местах:
#   1. Docker volume nginx-certs: /etc/nginx/certs/{domain}.crt и {domain}.key
#   2. Файловая система хоста: /etc/letsencrypt/live/{domain}/fullchain.pem
#
# ВАЖНО: Проверяются и используются ТОЛЬКО сертификаты для доменов,
#        указанных в BACKEND_DOMAIN и WEBHOOK_DOMAIN.
#        Сертификаты для других доменов не трогаются.
#
# Если возникли проблемы с получением сертификатов (rate limit и т.д.),
# см. раздел "Устранение проблем с SSL сертификатами" в DOCKER.md
#
# =============================================================================

# =============================================================================
# НАСТРОЙКИ ДЛЯ ВАРИАНТА 1 (GitHub Pages деплой)
# =============================================================================

# GitHub Personal Access Token (обязательно для варианта 1)
# Создайте токен здесь: https://github.com/settings/tokens
# Нужны права: repo (или public_repo для публичных репозиториев)
GITHUB_TOKEN=your_github_token_here

# Репозиторий GitHub Pages (по умолчанию: tacein/tacein.github.io)
# Формат: username/repository
GITHUB_REPO=tacein/tacein.github.io

# GitHub пользователь (для git commit)
GITHUB_USER=tacein

# GitHub email (для git commit)
GITHUB_EMAIL=your-email@example.com

# =============================================================================
# ИНСТРУКЦИИ ПО ГЕНЕРАЦИИ SECRET_KEY
# =============================================================================
#
# JWT ключ должен быть случайной строкой минимум 32 символа.
# 
# Python:
#   import secrets
#   print(secrets.token_urlsafe(32))
#
# OpenSSL:
#   openssl rand -hex 32
#
# PowerShell (Windows):
#   -join ((48..57) + (65..90) + (97..122) | Get-Random -Count 32 | % {[char]$_})
#
# Linux/Mac:
#   openssl rand -base64 32
#
# Важно: Используйте уникальный SECRET_KEY для каждого окружения (dev/prod)!
#
# =============================================================================

