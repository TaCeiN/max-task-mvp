# UniTask Tracker (VK Mini App stub)

–ú–æ–Ω–æ-—Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π: FastAPI (backend) + React/Vite (frontend). –•—Ä–∞–Ω–∏–ª–∏—â–µ ‚Äî SQLite. RU –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å, —Ç—ë–º–Ω–∞—è/—Å–≤–µ—Ç–ª–∞—è —Ç–µ–º—ã, –∑–∞–¥–∞—á–∏, –∑–∞–º–µ—Ç–∫–∏, —Ç–µ–≥–∏, —Ä–µ–∂–∏–º—ã —Ñ–æ–∫—É—Å–∞ (–ü–æ–º–æ–¥–æ—Ä–æ), –Ω–∞–ø–æ–º–∏–Ω–∞–Ω–∏—è –ø–æ –¥–µ–¥–ª–∞–π–Ω–∞–º.

## –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

### –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∏ –∑–∞–ø—É—Å–∫ (–±–µ–∑ Docker)

**üìñ –ü–æ–¥—Ä–æ–±–Ω–∞—è –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è:** [LOCAL_SETUP.md](LOCAL_SETUP.md)

–≠—Ç–æ —Å–∞–º—ã–π –ø—Ä–æ—Å—Ç–æ–π —Å–ø–æ—Å–æ–± –∑–∞–ø—É—Å—Ç–∏—Ç—å –ø—Ä–æ–µ–∫—Ç –Ω–∞ –Ω–æ–≤–æ–º –ü–ö. –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –≤–∫–ª—é—á–∞–µ—Ç:
- –£—Å—Ç–∞–Ω–æ–≤–∫—É –≤—Å–µ—Ö –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
- –ù–∞—Å—Ç—Ä–æ–π–∫—É backend, webhook —Å–µ—Ä–≤–µ—Ä–∞ –∏ frontend
- –†–µ—à–µ–Ω–∏–µ —Ç–∏–ø–∏—á–Ω—ã—Ö –ø—Ä–æ–±–ª–µ–º

### –ö—Ä–∞—Ç–∫–∞—è –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è

#### Backend

**Windows (PowerShell):**
```powershell
cd backend
python -m venv .venv
.venv\Scripts\Activate.ps1
pip install -r requirements.txt
uvicorn app.main:app --reload --host 0.0.0.0 --port 8000
```

**Mac/Linux:**
```bash
cd backend
python3 -m venv .venv
source .venv/bin/activate
pip install -r requirements.txt
uvicorn app.main:app --reload --host 0.0.0.0 --port 8000
```

#### Frontend
```bash
cd frontend
npm install
# –°–æ–∑–¥–∞–π—Ç–µ —Ñ–∞–π–ª .env.local —Å —Å–æ–¥–µ—Ä–∂–∏–º—ã–º: VITE_API_URL=http://localhost:8000
npm run dev
```

–ü–æ—Å–ª–µ –∑–∞–ø—É—Å–∫–∞:
- **–§—Ä–æ–Ω—Ç–µ–Ω–¥**: http://localhost:5173
- **–ë—ç–∫–µ–Ω–¥**: http://localhost:8000

### –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è

–ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫—É—é –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—é —á–µ—Ä–µ–∑ URL –ø–∞—Ä–∞–º–µ—Ç—Ä—ã:

```
http://localhost:5173/login?user_id=5107783&first_name=–ò–≤–∞–Ω&last_name=–ò–≤–∞–Ω–æ–≤&username=ivan_ivanov
```

–ü–∞—Ä–∞–º–µ—Ç—Ä—ã:
- `user_id` (–æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–π) - —É–Ω–∏–∫–∞–ª—å–Ω—ã–π –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- `first_name` (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ) - –∏–º—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- `last_name` (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ) - —Ñ–∞–º–∏–ª–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- `username` (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ) - –∏–º—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è (username)

–ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∏–∑–≤–ª–µ—á—ë—Ç –¥–∞–Ω–Ω—ã–µ –∏–∑ URL, –≤—ã–ø–æ–ª–Ω–∏—Ç –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—é/—Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—é –∏ –ø–µ—Ä–µ–Ω–∞–ø—Ä–∞–≤–∏—Ç –Ω–∞ –≥–ª–∞–≤–Ω—É—é —Å—Ç—Ä–∞–Ω–∏—Ü—É.

### Docker (–ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω—ã–π —Å–ø–æ—Å–æ–±)

–ï—Å–ª–∏ —É –≤–∞—Å —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω Docker:

```bash
# Windows
docker-start.bat

# Linux/Mac
chmod +x docker-start.sh
./docker-start.sh

# –ò–ª–∏ –≤—Ä—É—á–Ω—É—é
docker compose up -d --build
```

–ü–æ—Å–ª–µ –∑–∞–ø—É—Å–∫–∞:
- **–§—Ä–æ–Ω—Ç–µ–Ω–¥**: http://localhost (–ø–æ—Ä—Ç 80)
- **–ë—ç–∫–µ–Ω–¥**: http://localhost:8000

–ü–æ–¥—Ä–æ–±–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –ø–æ Docker: [DOCKER.md](DOCKER.md)

## –î–µ–ø–ª–æ–π

–ü—Ä–æ–µ–∫—Ç –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç –¥–≤–∞ –≤–∞—Ä–∏–∞–Ω—Ç–∞ –¥–µ–ø–ª–æ—è —á–µ—Ä–µ–∑ Docker. –ü–æ–¥—Ä–æ–±–Ω–∞—è –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è: [DOCKER.md](DOCKER.md)

### –í–∞—Ä–∏–∞–Ω—Ç 1: –î–µ–ø–ª–æ–π –Ω–∞ GitHub Pages (–∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π)

–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è —Å–±–æ—Ä–∫–∞ —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥–∞ –∏ –¥–µ–ø–ª–æ–π –Ω–∞ GitHub Pages + –∑–∞–ø—É—Å–∫ backend –∏ webhook —Å–µ—Ä–≤–µ—Ä–æ–≤.

**–ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç:**

1. **–°–æ–∑–¥–∞–π—Ç–µ —Ñ–∞–π–ª `.env` –≤ –∫–æ—Ä–Ω–µ –ø—Ä–æ–µ–∫—Ç–∞:**
   ```bash
   # –°–∫–æ–ø–∏—Ä—É–π—Ç–µ –ø—Ä–∏–º–µ—Ä
   copy env.example .env
   # –ò–ª–∏ –Ω–∞ Linux/Mac: cp env.example .env
   # –û—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä—É–π—Ç–µ .env –∏ –∑–∞–ø–æ–ª–Ω–∏—Ç–µ –≤—Å–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ
   ```

2. **–ó–∞–ø–æ–ª–Ω–∏—Ç–µ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –≤ `.env`:**
   - `MAX_BOT_TOKEN` - —Ç–æ–∫–µ–Ω –±–æ—Ç–∞ (–ø–æ–ª—É—á–∏—Ç–µ –æ—Ç MasterBot)
   - `BACKEND_URL` - –∞–¥—Ä–µ—Å backend API
   - `WEBHOOK_URL` - –∞–¥—Ä–µ—Å webhook —Å–µ—Ä–≤–µ—Ä–∞
   - `SECRET_KEY` - —Å–µ–∫—Ä–µ—Ç–Ω—ã–π –∫–ª—é—á –¥–ª—è JWT (—Å–≥–µ–Ω–µ—Ä–∏—Ä—É–π—Ç–µ –∫–∞–∫ –æ–ø–∏—Å–∞–Ω–æ –≤ DOCKER.md)
   - `GITHUB_TOKEN` - —Ç–æ–∫–µ–Ω –¥–ª—è –¥–µ–ø–ª–æ—è –Ω–∞ GitHub Pages
   - `GITHUB_REPO` - —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π GitHub Pages (–Ω–∞–ø—Ä–∏–º–µ—Ä: tacein/tacein.github.io)
   - `GITHUB_USER` - –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å GitHub
   - `GITHUB_EMAIL` - email –¥–ª—è –∫–æ–º–º–∏—Ç–æ–≤

3. **–ó–∞–ø—É—Å—Ç–∏—Ç–µ –¥–µ–ø–ª–æ–π:**
   ```bash
   # Windows
   deploy-github.bat
   
   # Linux/Mac
   chmod +x deploy-github.sh
   ./deploy-github.sh
   ```

–ß—Ç–æ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç:
- ‚úÖ –°–æ–±–∏—Ä–∞–µ—Ç—Å—è —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥ —Å –∞–¥—Ä–µ—Å–∞–º–∏ –∏–∑ `.env`
- ‚úÖ –§—Ä–æ–Ω—Ç–µ–Ω–¥ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –¥–µ–ø–ª–æ–∏—Ç—Å—è –Ω–∞ GitHub Pages
- ‚úÖ –ó–∞–ø—É—Å–∫–∞—é—Ç—Å—è backend –∏ webhook —Å–µ—Ä–≤–µ—Ä—ã
- ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–æ–¥–ø–∏—Å—ã–≤–∞–µ—Ç—Å—è –Ω–∞ webhooks

### –í–∞—Ä–∏–∞–Ω—Ç 2: –†—É—á–Ω–æ–π –¥–µ–ø–ª–æ–π —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥–∞

–°–±–æ—Ä–∫–∞ —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥–∞ + –∑–∞–ø—É—Å–∫ backend –∏ webhook —Å–µ—Ä–≤–µ—Ä–æ–≤. –§—Ä–æ–Ω—Ç–µ–Ω–¥ —Å–æ–±–∏—Ä–∞–µ—Ç—Å—è –≤ Docker volume –¥–ª—è –ø–æ—Å–ª–µ–¥—É—é—â–µ–≥–æ —Ä—É—á–Ω–æ–≥–æ –¥–µ–ø–ª–æ—è.

**–ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç:**

1. **–°–æ–∑–¥–∞–π—Ç–µ —Ñ–∞–π–ª `.env` –≤ –∫–æ—Ä–Ω–µ –ø—Ä–æ–µ–∫—Ç–∞:**
   ```bash
   # –°–∫–æ–ø–∏—Ä—É–π—Ç–µ –ø—Ä–∏–º–µ—Ä
   copy env.example .env
   # –ò–ª–∏ –Ω–∞ Linux/Mac: cp env.example .env
   # –û—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä—É–π—Ç–µ .env –∏ –∑–∞–ø–æ–ª–Ω–∏—Ç–µ –≤—Å–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ (–±–µ–∑ GITHUB_TOKEN)
   ```

2. **–ó–∞–ø–æ–ª–Ω–∏—Ç–µ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –≤ `.env`:**
   - `MAX_BOT_TOKEN` - —Ç–æ–∫–µ–Ω –±–æ—Ç–∞
   - `BACKEND_URL` - –∞–¥—Ä–µ—Å backend API
   - `WEBHOOK_URL` - –∞–¥—Ä–µ—Å webhook —Å–µ—Ä–≤–µ—Ä–∞
   - `SECRET_KEY` - —Å–µ–∫—Ä–µ—Ç–Ω—ã–π –∫–ª—é—á –¥–ª—è JWT

3. **–ó–∞–ø—É—Å—Ç–∏—Ç–µ —Å–±–æ—Ä–∫—É:**
   ```bash
   # Windows
   deploy-manual.bat
   
   # Linux/Mac
   chmod +x deploy-manual.sh
   ./deploy-manual.sh
   ```

4. **–°–∫–æ–ø–∏—Ä—É–π—Ç–µ —Ñ–∞–π–ª—ã –∏–∑ volume:**
   ```bash
   # Linux/Mac
   docker run --rm -v unitask_frontend-build:/source -v $(pwd)/frontend-dist:/dest alpine sh -c 'cp -r /source/* /dest/'
   
   # Windows
   docker run --rm -v unitask_frontend-build:/source -v %cd%\frontend-dist:/dest alpine sh -c "cp -r /source/* /dest/"
   ```

–ß—Ç–æ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç:
- ‚úÖ –°–æ–±–∏—Ä–∞–µ—Ç—Å—è —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥ —Å –∞–¥—Ä–µ—Å–∞–º–∏ –∏–∑ `.env`
- ‚úÖ –°–æ–±—Ä–∞–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è –≤ Docker volume `frontend-build`
- ‚úÖ –ó–∞–ø—É—Å–∫–∞—é—Ç—Å—è backend –∏ webhook —Å–µ—Ä–≤–µ—Ä—ã
- ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–æ–¥–ø–∏—Å—ã–≤–∞–µ—Ç—Å—è –Ω–∞ webhooks
- ‚úÖ –í—ã –∫–æ–ø–∏—Ä—É–µ—Ç–µ —Ñ–∞–π–ª—ã –∏–∑ volume –¥–ª—è —Ä—É—á–Ω–æ–≥–æ –¥–µ–ø–ª–æ—è

### –ì–µ–Ω–µ—Ä–∞—Ü–∏—è SECRET_KEY

JWT –∫–ª—é—á –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å —Å–ª—É—á–∞–π–Ω–æ–π —Å—Ç—Ä–æ–∫–æ–π –º–∏–Ω–∏–º—É–º 32 —Å–∏–º–≤–æ–ª–∞:

**Python:**
```python
import secrets
print(secrets.token_urlsafe(32))
```

**OpenSSL:**
```bash
openssl rand -hex 32
```

**PowerShell (Windows):**
```powershell
-join ((48..57) + (65..90) + (97..122) | Get-Random -Count 32 | % {[char]$_})
```

–ü–æ–¥—Ä–æ–±–Ω–µ–µ —Å–º. [DOCKER.md](DOCKER.md)

### Backend
–õ—é–±–æ–π VPS (Uvicorn/Gunicorn + Nginx), –±–∞–∑–∞ ‚Äî SQLite —Ñ–∞–π–ª. –ü—Ä–æ–¥–∞–∫—à–Ω URL: `https://backend-devcore-max.cloudpub.ru`


